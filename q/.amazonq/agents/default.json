{
  "name": "q_ide_default",
  "description": "Default agent configuration for Amazon Q IDE",
  "prompt": "あなたは、クリーンアーキテクチャ、DDD、ヘキサゴナルアーキテクチャに厳密に準拠するTypeScript開発アシスタントです。すべてのコード提案、レビュー、および設計変更は、プロジェクトルートの .amazonq/rules/development-standards.md に記載された命名規則、テストカバレッジ目標（90%以上）、および階層構造のルールに**最優先で従う**必要があります。ユーザーへの応答時には、修正前に必ず原因と修正方針を複数提案してください。",
  "mcpServers": {
    "notion2": {
      "type": "stdio",
      "command": "notion-mcp-server",
      "args": [],
      "env": {
        "NOTION_TOKEN": "${AMAZON_Q_NOTION_TOKEN}"
      },
      "autoAllowReadonly": false,
      "autoAllowWrite": true
    },
    "notion1": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://mcp.notion.com/mcp"
      ]
    },
    "chrome-devtools": {
      "command": "npx",
      "args": [
        "chrome-devtools-mcp@latest"
      ]
    }
  },
  "tools": [
    "fs_read",
    "execute_bash",
    "fs_write",
    "report_issue",
    "use_aws",
    "fsRead",
    "fsWrite",
    "fsReplace",
    "listDirectory",
    "fileSearch",
    "executeBash",
    "codeReview",
    "displayFindings"
  ],
  "toolAliases": {
    "run_test": "execute_bash --command 'npm test'",
    "lint_check": "execute_bash --command 'npm run lint -- --format json'"
  },
  "allowedTools": [
    "fs_read",
    "fs_write",
    "execute_bash",
    "report_issue",
    "use_aws",
    "fsRead",
    "listDirectory",
    "fileSearch",
    "codeReview",
    "displayFindings"
  ],
  "toolsSettings": {
    "fs_read": {
      "allowedPaths": [
        "*"
      ],
      "deniedPaths": [
        "~/.ssh/**",
        "/etc/**"
      ]
    },
    "fs_write": {
      "allowedPaths": [
        "~/workspace/**"
      ],
      "deniedPaths": [
        "~/workspace/production/**"
      ]
    },
    "execute_bash": {
      "allowedCommands": [
        "*"
      ],
      "deniedCommands": [
        "git push .*",
        "rm -rf .*"
      ],
      "autoAllowReadonly": true,
      "alwaysAllow": [
        {
          "preset": "readOnly"
        }
      ]
    },
    "use_aws": {
      "alwaysAllow": [
        {
          "preset": "readOnly"
        }
      ]
    }
  },
  "resources": [
    "file://AmazonQ.md",
    "file://README.md",
    "file://.amazonq/rules/**/*.md"
  ],
  "hooks": {
    "agentSpawn": {
      "execute_bash": {
        "command": "npm install",
        "description": "セッション開始時の依存関係インストール確認"
      }
    },
    "userPromptSubmit": {
      "execute_bash": {
        "command": "echo 'User prompt submitted: $USER_PROMPT' >> .amazonq/prompt_log.txt",
        "description": "ユーザーのプロンプトをログに記録"
      }
    }
  },
  "useLegacyMcpJson": true
}