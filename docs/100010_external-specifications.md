# Amazon Q DevContainer環境 - 外部仕様

## 機能要件

### 基本機能
- Amazon Q CLIの実行環境をコンテナ化
- VSCode DevContainerからの接続・操作
- 会社アカウントでのSSO認証対応
- マルチプラットフォーム対応（macOS、Ubuntu、Windows）

### 認証機能
- AWS SSO認証フロー
- 会社発行のスタートURLを使用した認証
- 認証情報の永続化

### 開発環境機能
- VSCode拡張機能の自動インストール
- 必要な開発ツールの事前セットアップ
- ファイル同期とボリュームマウント

## 非機能要件

### パフォーマンス
- コンテナ起動時間: 30秒以内
- Amazon Q応答時間: 通常の環境と同等
- ファイル同期遅延: 1秒以内

### セキュリティ
- Netscope環境での動作保証
- 認証情報の安全な管理
- ネットワーク通信の暗号化

### 可用性
- 99%以上の稼働率
- 自動復旧機能
- エラーハンドリング

### 互換性
- Docker Desktop対応
- VSCode DevContainer拡張機能対応
- 各OS固有の制約への対応

### 保守性
- 設定ファイルの外部化
- ログ出力機能
- デバッグ機能

## 制約事項

### 技術制約
- Netscopeプロキシ環境での動作必須
- 会社ネットワークポリシー準拠
- Docker環境の利用

### 運用制約
- 会社アカウントでの認証必須
- セキュリティポリシー遵守
- ライセンス要件の確認

## 現在の実装状況

### 完了済み機能
- ✅ Ubuntu 22.04ベースコンテナ環境
- ✅ 基本開発ツール（curl, wget, git等）
- ✅ Node.js 18.x環境
- ✅ AWS CLI v2インストール
- ✅ VSCode DevContainer設定
- ✅ プロキシ設定用環境変数テンプレート

### 実装中・課題
- ⚠️ Amazon Q CLI（インストール方法調査中）
- ⚠️ AWS CLI Rosettaエラー対応
- 🔄 CA証明書インストール機能
- 🔄 Netscope環境テスト

### 未実装
- ❌ SSO認証フロー
- ❌ 認証情報永続化
- ❌ 自動復旧機能
